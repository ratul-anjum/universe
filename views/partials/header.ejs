<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= title %>
    </title>
    <link rel="shortcut icon" href="images/logo.png" type="image/x-icon">
    <!-- Toastify  -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <!-- Font Awesome Cdn  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="stylesheets/home.css">
</head>

<body>
    <nav>
        <a href="/home">
            <img src="images/logo.png" alt="logo" class="logo">
        </a>
        <ul>
            <li><a href="/home" id="home-btn"><i class="fa-solid fa-house-chimney"></i></a></li>
            <li><a href="/profile" id="profile-btn"><i class="fa-solid fa-user"></i></a></li>
            <li><a onclick="logout()"><i class="fa-solid fa-right-from-bracket"></i></a></li>
        </ul>
    </nav>

    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script>
        // Nav Style
        if (location.pathname === "/home") {
            document.getElementById("home-btn").classList.add("selected");
        } else if (location.pathname === "/profile") {
            document.getElementById("profile-btn").classList.add("selected");
        }

        // Logout Toast
        const logoutToast = Toastify({
            text: "Logged Out Successfully!",
            duration: 1000
        });

        // Logout
        const logout = () => {
            fetch("/", {
                method: "DELETE"
            });

            logoutToast.showToast();

            setTimeout(() => {
                location.reload();
            }, 1000)
        }
    </script>